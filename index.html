<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Money Manager Pro - Tabungan & Investasi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid py-2">
        <!-- Header dengan Total Kekayaan -->
        <div class="card mb-2">
            <div class="card-body p-3">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <small class="text-muted">Total Kekayaan Bersih</small>
                        <h3 class="mb-0 fw-bold" id="totalGrand">Rp 0</h3>
                    </div>
                    <span id="financialHealthBadge" class="badge bg-success">ðŸ’š Sehat</span>
                </div>
                <div class="row mt-3 g-2">
                    <div class="col-4">
                        <div class="text-center">
                            <small class="text-muted d-block">Pemasukan</small>
                            <span class="fw-bold text-success" id="totalIncome">Rp 0</span>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center">
                            <small class="text-muted d-block">Pengeluaran</small>
                            <span class="fw-bold text-danger" id="totalExpense">Rp 0</span>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center">
                            <small class="text-muted d-block">Kas Tunai</small>
                            <span class="fw-bold text-primary" id="totalBalance">Rp 0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fitur Gajian -->
        <div class="card mb-2">
            <div class="card-header bg-success text-white py-2">
                <h6 class="mb-0"><i class="fas fa-money-bill-wave me-2"></i>Fitur Gajian</h6>
            </div>
            <div class="card-body p-2">
                <form id="gajianForm" class="row g-2">
                    <div class="col-12 col-md-3">
                        <input type="text" class="form-control form-control-sm" id="gajianPerusahaan" placeholder="Nama PT" required>
                    </div>
                    <div class="col-6 col-md-2">
                        <input type="text" class="form-control form-control-sm currency-input" id="gajianNominal" placeholder="Nominal" required>
                    </div>
                    <div class="col-6 col-md-2">
                        <input type="date" class="form-control form-control-sm" id="gajianTanggal" required>
                    </div>
                    <div class="col-12 col-md-3">
                        <select class="form-select form-select-sm" id="gajianRekening" required>
                            <option value="">Pilih Rekening Tujuan</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-2">
                        <button type="submit" class="btn btn-sm btn-success w-100">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </form>
                
                <div id="gajianList" class="mt-2"></div>
            </div>
        </div>

        <!-- M-Banking Section -->
        <div class="card mb-2">
            <div class="card-header bg-primary text-white py-2">
                <h6 class="mb-0"><i class="fas fa-mobile-alt me-2"></i>M-Banking</h6>
            </div>
            <div class="card-body p-2">
                <div class="row g-2 mb-2">
                    <div class="col-6 col-md-4">
                        <select id="bankSelect" class="form-select form-select-sm">
                            <option value="BCA">BCA</option>
                            <option value="Mandiri">Mandiri</option>
                            <option value="BRI">BRI</option>
                            <option value="BNI">BNI</option>
                            <option value="CIMB Niaga">CIMB Niaga</option>
                            <option value="Danamon">Danamon</option>
                            <option value="Permata">Permata</option>
                            <option value="Maybank">Maybank</option>
                            <option value="Bank Lain">Bank Lain</option>
                        </select>
                    </div>
                    <div class="col-6 col-md-4">
                        <div class="input-group input-group-sm">
                            <span class="input-group-text">Rp</span>
                            <input type="text" id="mbankingSaldo" class="form-control currency-input" placeholder="0">
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <button class="btn btn-sm btn-primary w-100" onclick="addMBanking()">
                            <i class="fas fa-plus"></i> Tambah/Update
                        </button>
                    </div>
                </div>
                <div id="mbankingList" class="row g-2"></div>
            </div>
        </div>

        <!-- Investasi Section -->
        <div class="card mb-2">
            <div class="card-header bg-info text-white py-2">
                <h6 class="mb-0"><i class="fas fa-chart-line me-2"></i>Investasi</h6>
            </div>
            <div class="card-body p-2">
                <!-- Tab Investasi -->
                <ul class="nav nav-tabs nav-fill mb-2" id="investasiTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="saham-tab" data-bs-toggle="tab" data-bs-target="#saham" type="button">Saham</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="emas-tab" data-bs-toggle="tab" data-bs-target="#emas" type="button">Emas</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="lainnya-tab" data-bs-toggle="tab" data-bs-target="#lainnya" type="button">Lainnya</button>
                    </li>
                </ul>
                
                <div class="tab-content" id="investasiTabContent">
                    <!-- Tab Saham -->
                    <div class="tab-pane fade show active" id="saham" role="tabpanel">
                        <div class="row g-2 mb-2">
                            <div class="col-6 col-md-3">
                                <input type="text" class="form-control form-control-sm" id="sahamKode" placeholder="Kode (BBRI)">
                            </div>
                            <div class="col-6 col-md-3">
                                <input type="text" class="form-control form-control-sm" id="sahamNama" placeholder="Nama Perusahaan">
                            </div>
                            <div class="col-4 col-md-2">
                                <input type="number" class="form-control form-control-sm" id="sahamLot" placeholder="Lot" min="0.01" step="0.01">
                            </div>
                            <div class="col-4 col-md-2">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text">Rp</span>
                                    <input type="text" class="form-control currency-input" id="sahamHarga" placeholder="Harga/lbr">
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <button class="btn btn-sm btn-info w-100" onclick="addSaham()">
                                    <i class="fas fa-plus"></i> Tambah
                                </button>
                            </div>
                        </div>
                        <div id="sahamList" class="row g-2"></div>
                    </div>
                    
                    <!-- Tab Emas (dengan ketelitian 0.01 gram) -->
                    <div class="tab-pane fade" id="emas" role="tabpanel">
                        <div class="row g-2 mb-2">
                            <div class="col-6 col-md-4">
                                <input type="text" class="form-control form-control-sm" id="emasNama" placeholder="Nama (Antam)">
                            </div>
                            <div class="col-6 col-md-3">
                                <input type="number" class="form-control form-control-sm" id="emasGram" placeholder="Gram" min="0.01" step="0.01">
                            </div>
                            <div class="col-8 col-md-3">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text">Rp/gram</span>
                                    <input type="text" class="form-control currency-input" id="emasHarga" placeholder="Harga per gram">
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <button class="btn btn-sm btn-warning w-100" onclick="addEmas()">
                                    <i class="fas fa-plus"></i> Tambah
                                </button>
                            </div>
                        </div>
                        
                        <!-- Informasi konversi -->
                        <div class="alert alert-info py-1 mb-2 small">
                            <i class="fas fa-info-circle me-1"></i> 1 gram = 100 x 0.01 gram. Harga dihitung per 0.01 gram.
                        </div>
                        
                        <div id="emasList" class="row g-2"></div>
                    </div>
                    
                    <!-- Tab Investasi Lainnya -->
                    <div class="tab-pane fade" id="lainnya" role="tabpanel">
                        <div class="row g-2 mb-2">
                            <div class="col-6 col-md-3">
                                <select id="investasiLainJenis" class="form-select form-select-sm">
                                    <option value="reksadana">Reksadana</option>
                                    <option value="obligasi">Obligasi</option>
                                    <option value="properti">Properti</option>
                                    <option value="kripto">Kripto</option>
                                    <option value="other">Lainnya</option>
                                </select>
                            </div>
                            <div class="col-6 col-md-3">
                                <input type="text" class="form-control form-control-sm" id="investasiLainNama" placeholder="Nama">
                            </div>
                            <div class="col-4 col-md-2">
                                <input type="number" class="form-control form-control-sm" id="investasiLainJumlah" placeholder="Jumlah" min="1" step="1">
                            </div>
                            <div class="col-4 col-md-2">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text">Rp</span>
                                    <input type="text" class="form-control currency-input" id="investasiLainNilai" placeholder="Nilai/unit">
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <button class="btn btn-sm btn-secondary w-100" onclick="addInvestasiLain()">
                                    <i class="fas fa-plus"></i> Tambah
                                </button>
                            </div>
                        </div>
                        <div id="investasiLainList" class="row g-2"></div>
                    </div>
                </div>
                
                <!-- Total Investasi -->
                <div class="mt-2 p-2 bg-light rounded">
                    <div class="row g-2" id="investmentSummaryCards"></div>
                </div>
            </div>
        </div>

        <!-- Utang & Piutang Section -->
        <div class="card mb-2">
            <div class="card-header bg-danger text-white py-2">
                <h6 class="mb-0"><i class="fas fa-credit-card me-2"></i>Utang & Piutang</h6>
            </div>
            <div class="card-body p-2">
                <div class="row g-2 mb-2">
                    <div class="col-6 col-md-3">
                        <input type="text" class="form-control form-control-sm" id="utangName" placeholder="Nama / Deskripsi">
                    </div>
                    <div class="col-6 col-md-2">
                        <div class="input-group input-group-sm">
                            <span class="input-group-text">Rp</span>
                            <input type="text" class="form-control currency-input" id="utangAmount" placeholder="0">
                        </div>
                    </div>
                    <div class="col-8 col-md-3">
                        <input type="date" class="form-control form-control-sm" id="utangDueDate">
                    </div>
                    <div class="col-4 col-md-2">
                        <select class="form-select form-select-sm" id="utangType">
                            <option value="utang">Utang</option>
                            <option value="piutang">Piutang</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-2">
                        <button class="btn btn-sm btn-danger w-100" onclick="addUtang()">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>
                
                <div id="utangList" class="row g-2"></div>
            </div>
        </div>

        <!-- Target Section -->
        <div class="card mb-2">
            <div class="card-header" style="background: linear-gradient(135deg, #00b09b, #96c93d); color: white;">
                <h6 class="mb-0"><i class="fas fa-bullseye me-2"></i>Target Impian</h6>
            </div>
            <div class="card-body p-2">
                <div class="row g-2 mb-2">
                    <div class="col-6 col-md-4">
                        <input type="text" class="form-control form-control-sm" id="targetName" placeholder="Nama target">
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="input-group input-group-sm">
                            <span class="input-group-text">Rp</span>
                            <input type="text" class="form-control currency-input" id="targetAmount" placeholder="Target">
                        </div>
                    </div>
                    <div class="col-8 col-md-3">
                        <select class="form-select form-select-sm" id="targetPriority">
                            <option value="high">Prioritas Tinggi</option>
                            <option value="medium">Prioritas Sedang</option>
                            <option value="low">Prioritas Rendah</option>
                        </select>
                    </div>
                    <div class="col-4 col-md-2">
                        <button class="btn btn-sm btn-success w-100" onclick="addTarget()">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>
                
                <div id="targetList" class="row g-2"></div>
            </div>
        </div>

        <!-- Transaksi Harian -->
        <div class="card">
            <div class="card-header bg-dark text-white py-2">
                <h6 class="mb-0"><i class="fas fa-history me-2"></i>Transaksi Harian</h6>
            </div>
            <div class="card-body p-2">
                <div class="row g-2 mb-2">
                    <div class="col-12 col-md-4">
                        <input type="text" id="desc" class="form-control form-control-sm" placeholder="Deskripsi">
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="input-group input-group-sm">
                            <span class="input-group-text">Rp</span>
                            <input type="text" id="amount" class="form-control currency-input" placeholder="0">
                        </div>
                    </div>
                    <div class="col-6 col-md-3">
                        <select id="type" class="form-select form-select-sm">
                            <option value="pemasukan">Pemasukan</option>
                            <option value="pengeluaran">Pengeluaran</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-2">
                        <button class="btn btn-sm btn-dark w-100" onclick="addTransaction()">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>

                <!-- Filter dan Search -->
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div class="btn-group btn-group-sm">
                        <button class="btn btn-outline-primary filter-btn active" onclick="setFilter('all')">Semua</button>
                        <button class="btn btn-outline-success filter-btn" onclick="setFilter('pemasukan')">Masuk</button>
                        <button class="btn btn-outline-danger filter-btn" onclick="setFilter('pengeluaran')">Keluar</button>
                    </div>
                    <input type="text" class="form-control form-control-sm w-50" id="searchInput" placeholder="Cari...">
                </div>

                <!-- Tabel Transaksi -->
                <div class="table-responsive">
                    <table class="table table-sm table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>Tanggal</th>
                                <th>Deskripsi</th>
                                <th>Jenis</th>
                                <th>Nominal</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="transactionTable"></tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <nav>
                    <ul class="pagination pagination-sm justify-content-center" id="pagination"></ul>
                </nav>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
